{{!-- NOT DONE work in progress--}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/dashboard.css">
  <title>Update Story</title>
</head>

<body class="body_container">
  <h2>Update Story</h2>

  <form action="/submissions/update_storyDetails/{{story.story_id}}" method="POST" enctype="multipart/form-data">
  <div class="story__container">
    <div class="column1">
      <div class="file-input-container">
        <div class="form-groupimg">
          <img src="/uploads/{{story.cover_image}}" alt="Cover Image">
         <!-- Form to Update Story -->
    <div class="form-group">
      <label for="new_cover_image">New Cover Image:</label>
      <input type="file" id="new_cover_image" name="new_cover_image">
    </div>
        </div>
        <div id="imagePreview"></div>  {{!-- END OF IMAGEPREVIEW --}}
      </div>{{!-- END FILE-INPUT-CONTAINER --}}
    </div>{{!-- END OF COLUMN1 --}}

    <div class="column2">
      <div class="form-input-container">
        <h4>Update Story Details</h4>
        <div class="form-group">
          <label for="title">Title:</label>
          <input type="text" id="title" name="title" value="{{story.title}}">
        </div>
        <div class="form-group">
          <label for="description">Description:</label>
          <textarea id="description" name="description">{{story.description}}</textarea>
        </div>
        <div class="form-group">
          <label>Genre:</label>
          <input type="text" id="genre" name="genre" value="{{story.genre}}">
        </div>
        <div class="form-group username-input">
          <label for="username">Username:</label>
          <input type="text" id="username" name="username" value="{{story.username}}">
        </div>

      </div>{{!-- end of form-input-CONTAINER --}}
    </div>   {{!-- END OF COLUMN2 --}}
  </div>{{!-- END OF STORY__CONTAINER --}}

    <input type="submit" value="Update Story" name="submit" class="btnbtn-primary">
  </form>

  <script>
    // Function to preview the selected cover image
    function handleFileInputChange() {
      const fileInput = document.getElementById('new_cover_image');
      const imagePreview = document.getElementById('imagePreview');

      if (fileInput.files && fileInput.files[0]) {
        const reader = new FileReader();

        reader.onload = function (e) {
          const img = document.createElement('img');
          img.src = e.target.result;
          imagePreview.innerHTML = ''; // Clear any previous image
          imagePreview.appendChild(img);
        };
        reader.readAsDataURL(fileInput.files[0]);
      }
    }
  </script>

</body>
</html>
